<!--
 Copyright 2025 Nokia
 Licensed under the BSD 3-Clause License.
 SPDX-License-Identifier: BSD-3-Clause
--> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="KPN Mini SReXperts hackathon event guidelines"><meta name=author content=Nokia><link rel=canonical href=https://lvaneeckh.github.io/kpn-mini-srx-hackathon/eda/beginner/virtual-networks.html><link rel=icon href=../../images/nokia_favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.9+insiders-4.53.16"><title>Virtual Networks - KPN Mini SReXperts EDA hackathon 2026</title><link rel=stylesheet href=../../assets/stylesheets/main.ade31302.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=NokiaPureText:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"NokiaPureText";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../stylesheets/nokia.css><link rel=stylesheet href=../../stylesheets/nokia-fonts.css><link rel=stylesheet href=../../stylesheets/diagrams.css><link rel=stylesheet href=../../stylesheets/animations.css><link rel=stylesheet href=../../stylesheets/feedback.css><link rel=stylesheet href=../../stylesheets/collapse-code.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="KPN Mini SReXperts EDA hackathon 2026 - Virtual Networks"><meta property=og:description content="KPN Mini SReXperts hackathon event guidelines"><meta property=og:url content=https://lvaneeckh.github.io/kpn-mini-srx-hackathon/eda/beginner/virtual-networks.html><meta property=og:image content=https://lvaneeckh.github.io/kpn-mini-srx-hackathon/images/site-card.webp><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><!-- Twitter card tags --><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="KPN Mini SReXperts EDA hackathon 2026 - Virtual Networks"><meta name=twitter:description content="KPN Mini SReXperts hackathon event guidelines"><meta name=twitter:image content=https://lvaneeckh.github.io/kpn-mini-srx-hackathon/images/site-card.webp><!-- NOINDEX --><link href=../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#virtual-networks class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title="KPN Mini SReXperts EDA hackathon 2026" class="md-header__button md-logo" aria-label="KPN Mini SReXperts EDA hackathon 2026" data-md-component=logo> <!-- docs/overrides/partials/logo.html --> <div style="display: flex; align-items: center; gap: 8px;"> <img src=../../images/kpn_logo.svg style="height: 45px; padding-left: 32px" alt="KPN logo"> <img src=../../images/nokia_logo.svg style="height: 90px" alt="Nokia logo"> </div> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> KPN Mini SReXperts EDA hackathon 2026 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Virtual Networks </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../intro/index.html class=md-tabs__link> Intro </a> </li> <li class=md-tabs__item> <a href=../../underlay/fabrics.html class=md-tabs__link> Underlay/Overlay Networks </a> </li> <li class=md-tabs__item> <a href=../../telco-cloud/unequal-ecmp.html class=md-tabs__link> Telco-Cloud use-case </a> </li> <li class=md-tabs__item> <a href=../../intro/label-based-selection.html class=md-tabs__link> References </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title="KPN Mini SReXperts EDA hackathon 2026" class="md-nav__button md-logo" aria-label="KPN Mini SReXperts EDA hackathon 2026" data-md-component=logo> <!-- docs/overrides/partials/logo.html --> <div style="display: flex; align-items: center; gap: 8px;"> <img src=../../images/kpn_logo.svg style="height: 45px; padding-left: 32px" alt="KPN logo"> <img src=../../images/nokia_logo.svg style="height: 90px" alt="Nokia logo"> </div> </a> KPN Mini SReXperts EDA hackathon 2026 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../intro/index.html class="md-nav__link "> <span class=md-ellipsis> Intro </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Intro </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../intro/srl-cli.html class=md-nav__link> <span class=md-ellipsis> SR Linux CLI </span> </a> </li> <li class=md-nav__item> <a href=../../intro/declarative-intents.html class=md-nav__link> <span class=md-ellipsis> Declarative Intents </span> </a> </li> <li class=md-nav__item> <a href=../../intro/eda-query-language.html class=md-nav__link> <span class=md-ellipsis> EDA Query Language </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Underlay/Overlay Networks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Underlay/Overlay Networks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../underlay/fabrics.html class=md-nav__link> <span class=md-ellipsis> Fabrics </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Telco-Cloud use-case </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Telco-Cloud use-case </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../telco-cloud/unequal-ecmp.html class=md-nav__link> <span class=md-ellipsis> Unequal ECMP </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> EDA Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> EDA Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../intro/label-based-selection.html class=md-nav__link> <span class=md-ellipsis> Label-based Selection </span> </a> </li> <li class=md-nav__item> <a href=allocations.html class=md-nav__link> <span class=md-ellipsis> Allocations </span> </a> </li> <li class=md-nav__item> <a href=configlets.html class=md-nav__link> <span class=md-ellipsis> Configlets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Services </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../overlay/bridge-domains.html class=md-nav__link> <span class=md-ellipsis> Bridge Domains </span> </a> </li> <li class=md-nav__item> <a href=../../overlay/routers.html class=md-nav__link> <span class=md-ellipsis> Routers </span> </a> </li> <li class=md-nav__item> <a href=../../overlay/virtual-networks.html class=md-nav__link> <span class=md-ellipsis> Virtual Networks </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../intermediate/install-eda.html class=md-nav__link> <span class=md-ellipsis> Install Your Own EDA </span> </a> </li> <li class=md-nav__item> <a href=../intermediate/custom-allocations.html class=md-nav__link> <span class=md-ellipsis> Custom Allocations </span> </a> </li> <li class=md-nav__item> <a href=../intermediate/api.html class=md-nav__link> <span class=md-ellipsis> REST API </span> </a> </li> <li class=md-nav__item> <a href=../advanced/service-automation.html class=md-nav__link> <span class=md-ellipsis> Service Automation using Python </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#objective class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Objective </span> </span> </a> </li> <li class=md-nav__item> <a href=#technology-explanation class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Technology explanation </span> </span> </a> <nav class=md-nav aria-label="Technology explanation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#irb-interfaces class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> IRB interfaces </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tasks class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Tasks </span> </span> </a> <nav class=md-nav aria-label=Tasks> <ul class=md-nav__list> <li class=md-nav__item> <a href=#list-virtual-networks class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> List Virtual Networks </span> </span> </a> </li> <li class=md-nav__item> <a href=#create-a-virtual-network class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Create a Virtual Network </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#summary class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Summary </span> </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=virtual-networks>Virtual Networks<a class=headerlink href=#virtual-networks title="Permanent link">#</a></h1> <script type=text/javascript src=https://viewer.diagrams.net/js/viewer-static.min.js async></script> <table> <thead> <tr> <th></th> <th></th> </tr> </thead> <tbody> <tr> <td><strong>Short Description</strong></td> <td>Creating a virtual network with EDA to combine layer-2 and layer-3 connectivity</td> </tr> <tr> <td><strong>Difficulty</strong></td> <td>Beginner</td> </tr> <tr> <td><strong>Topology Nodes</strong></td> <td><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"/></svg></span> client11, <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"/></svg></span> client12, <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"/></svg></span> client13, <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m1-7v3h2l-3 3-3-3h2v-3m-6 0h3v2l3-3-3-3v2H5m6 0V8H9l3-3 3 3h-2v3m6 0h-3V9l-3 3 3 3v-2h3"/></svg></span> leaf11, <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m1-7v3h2l-3 3-3-3h2v-3m-6 0h3v2l3-3-3-3v2H5m6 0V8H9l3-3 3 3h-2v3m6 0h-3V9l-3 3 3 3v-2h3"/></svg></span> leaf12, <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m1-7v3h2l-3 3-3-3h2v-3m-6 0h3v2l3-3-3-3v2H5m6 0V8H9l3-3 3 3h-2v3m6 0h-3V9l-3 3 3 3v-2h3"/></svg></span> leaf13</td> </tr> </tbody> </table> <p>This is the third exercise in a 4-part series around using EDA to achieve connectivity within your datacenter. In this exercise, we will leverage the knowledge gained in the previous two parts and deploy both layer-2 and layer-3 overlay services.<br> Thanks to the power of abstracted and derived intents, under the hood the virtual network will create the individual resources we created manually in parts 1 &amp; 2.</p> <ul> <li><strong><a href=bridge-domains.html>Part 1</a></strong>: achieve layer-2 connectivity using bridge domains</li> <li><strong><a href=routers.html>Part 2</a></strong>: achieve layer-3 connectivity using routers</li> <li><strong>Part 3 (this activity)</strong>: combine layer-2 and layer-3 connectivity through a single EDA object: the Virtual Network</li> <li><strong><a href=../advanced/service-automation.html>Part 4</a></strong>: automate parts 1 through 3 of this exercise with Python</li> </ul> <h2 id=objective>Objective<a class=headerlink href=#objective title="Permanent link">#</a></h2> <p>Through the past two exercises, you have learned how to deploy pure layer-2 and pure layer-3 overlay services using EDA abstracted intents. In particular, for layer-2 services you have used the <a href=bridge-domains.html>Bridge Domain/Bridge Interface/VLAN</a> resources, and for layer-3 services you used the <a href=routers.html>Router/Routed Interface</a>.</p> <p>However, both these designs have their own challenges and limitations. A layer-2 overlay service does not allow inter-subnet routing and has all the challenges of a big broadcast domain.<br> A pure layer-3<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup> design with clients using the layer-3 interfaces not only does not support applications that require L2 connectivity, but would also require each leaf to have a distinct and dedicated routed interface with a unique gateway IP, which makes host migration difficult.</p> <p>This is why many datacenters are built using the hybrid approach of combining small layer-2 overlay services with the inter-subnet overlay routing. This design allows clients to use a simple LAG interface towards the leaf switches, while achieving multihoming, workload migration and layer-2 connectivity, when required.</p> <p>In this exercise your focus will be on building a composite overlay service that will enable three linux hosts to talk to each other, both within their own subnet (switched traffic) and between the subnets (routed traffic).</p> <h2 id=technology-explanation>Technology explanation<a class=headerlink href=#technology-explanation title="Permanent link">#</a></h2> <p>We have covered the scenario where hosts can talk to each other in a layer-2 domain (via a <a href=bridge-domains.html>Bridge Domain</a>), and the scenario where hosts in different subnets can be interconnected (via a <a href=routers.html>Router</a>). We did not cover perhaps the most frequent scenario: a combination of the layer-2 inter-subnet bridging and layer-3 routing to interconnected different subnets.</p> <p>Because of the popularity of this design, EDA provides a dedicated abstraction for it: the <span class=ui__icon><span style="display: inline-flex; align-items: center; justify-content: center; width: 18px; height: 18px; border-radius: 50%; background-color: var(--md-code-fg-color); color: var(--md-code-bg-color); font-weight: bold; font-size: 0.5rem;">VN</span></span><span class=icon__text>Virtual Networks</span> resource that you can find in <span class=ui__icon><svg style="fill: var(--md-code-fg-color);" viewbox="0 0 24 24" height=24px width=24px> <path fill-rule=evenodd clip-rule=evenodd d="M5.75 3.75v1a1 1 0 0 1-1 1h-1v3.5h1a1 1 0 0 1 1 1v3.5a1 1 0 0 1-1 1h-1v3.5h1a1 1 0 0 1 1 1v1H10a.75.75 0 0 1 0 1.5H5.25a1 1 0 0 1-1-1v-1h-1a1 1 0 0 1-1-1v-4.5a1 1 0 0 1 1-1h1v-2.5h-1a1 1 0 0 1-1-1v-4.5a1 1 0 0 1 1-1h1v-1a1 1 0 0 1 1-1h4.5a1 1 0 0 1 1 1v1h2.5v-1a1 1 0 0 1 1-1h4.5a1 1 0 0 1 1 1v1h1a1 1 0 0 1 1 1v4.5a1 1 0 0 1-1 1h-1v1.75h-1.5v-2.25a1 1 0 0 1 1-1h1v-3.5h-1a1 1 0 0 1-1-1v-1h-3.5v1a1 1 0 0 1-1 1h-3.5a1 1 0 0 1-1-1v-1h-3.5zm3.5 5.5v5.5H12a.75.75 0 0 1 0 1.5H9c-.69 0-1.25-.56-1.25-1.25V9c0-.69.56-1.25 1.25-1.25h6c.69 0 1.25.56 1.25 1.25v3h-1.5V9.25h-5.5zm5.194 7.45a3.125 3.125 0 0 1 5.828-.755c.13-.022.265-.037.401-.042a.753.753 0 0 1 .137-.013 3.183 3.183 0 0 1 3.18 3.18 3.183 3.183 0 0 1-3.18 3.18h-5.783a2.807 2.807 0 0 1-2.767-2.81c0-1.339.932-2.456 2.184-2.74zm3.046-.95a1.62 1.62 0 0 0-1.62 1.63.75.75 0 0 1-.75.75h-.05c-.726 0-1.31.584-1.31 1.31 0 .721.571 1.294 1.287 1.31h5.763c.926 0 1.68-.754 1.68-1.68 0-.894-.703-1.628-1.585-1.677a.76.76 0 0 1-.105.007c-.237 0-.476.055-.692.148a.75.75 0 0 1-1.03-.529 1.623 1.623 0 0 0-1.588-1.269z"> </path> </svg> </span><span class=icon__text>VIRTUAL NETWORK</span> category.</p> <p>A Virtual Network combines multiple bridge domains, routers, routed interfaces and protocols in a single resource. A typical Virtual Network might for example contain:</p> <ul> <li>A bridge domain for storage computes</li> <li>A bridge domain for GPU clusters</li> <li>A bridge domain for in-band management access to all computes</li> <li>Redundant routed interfaces, each towards a datacenter gateway (DCGW)</li> <li>BGP sessions with the DCGWs, so the internal routes can be advertised to the Wide-Area Network (WAN) and external routes can be imported to provide internet connectivity</li> </ul> <p>In this exercise, we'll create a mix of bridge domains and routed interfaces that can all communicate with each other, regardless of whether their IP addresses are in the same subnet or not. The whole network connectivity design will be driven off of a single abstracted intent - <strong>Virtual Network</strong> - that will emit multiple sub-resources that we previously covered in parts <a href=bridge-domains.html>1</a> and <a href=routers.html>2</a>.</p> <p>The diagram below depicts how a single high-level Virtual Network resource emits multiple sub-resources and through this orchestrates a creation of a composite service topology.</p> <pre class=mermaid><code>graph TB
    X["Virtual Network"]--&gt;A["Router"]
    A--&gt;B["Bridge Domain A"]
    A--&gt;C["Bridge Domain B"]
    A--&gt;D["Routed Interface 1"]
    A--&gt;E["Routed Interface 2"]
    B--&gt;F["VLAN 300"]
    C--&gt;G["VLAN 311"]</code></pre> <h3 id=irb-interfaces>IRB interfaces<a class=headerlink href=#irb-interfaces title="Permanent link">#</a></h3> <p>So far, we've seen two types of interfaces:</p> <ul> <li>A bridged interface, which connects a (physical port, VLAN) combination to a MAC-VRF</li> <li>A routed interface, which connects a (physical port, VLAN) combination to an IP-VRF</li> </ul> <p>With a bridged interface, we can interconnect many hosts with an IP in the same subnet, whereas with a routed interface we can allow a single host to communicate with IPs outside of their subnet. We're missing one piece of the puzzle: what if we want many hosts with IPs in the same subnet, to all be able to communicate with IP addresses in the other subnets?</p> <p>That's where the Integrated Routing and Bridging (IRB) comes in: an IRB is a logical interface that connects a MAC-VRF to an IP-VRF. The IRB needs to have an IP address assigned to it that the bridged interfaces will use to reach addresses outside of their subnet. Usually, the first host in the subnet is assigned to the IRB and is called the "anycast gateway", or simply "gateway".</p> <pre class=mermaid><code>graph TB
    A["IP VRF"]--&gt;B["IRB 1 (10.100.100.1/24)"]
    A--&gt;C["IRB 2 (10.200.200.129/26)"]
    B--&gt;D["MAC-VRF 1"]
    C--&gt;E["MAC-VRF 2"]
    D---&gt;F["Host 1 (10.100.100.10)"]
    D--&gt;G["Host 2 (10.100.100.11)"]
    D---&gt;H["Host 3 (10.100.100.15)"]
    E--&gt;I["Host 4 (10.200.200.135)"]
    E---&gt;J["Host 5 (10.200.200.136)"]
    E--&gt;K["Host 6 (10.200.200.137)"]</code></pre> <p>The IRB interfaces depicted above "connect" a MAC-VRF to an IP-VRF and make the inter-subnet routing possible.</p> <h2 id=tasks>Tasks<a class=headerlink href=#tasks title="Permanent link">#</a></h2> <div class="admonition subtle-question"> <p class=admonition-title>See <a href=../index.html#access-details>Access Details</a> if you need a reminder on how to access the nodes in the topology.</p> </div> <p>For this exercise the relevant IP configuration on the clients is presented below:</p> <table> <thead> <tr> <th>Client</th> <th>Interface</th> <th>IP address</th> <th>VLAN</th> </tr> </thead> <tbody> <tr> <td>client11</td> <td>eth1.300</td> <td>10.30.0.11/24 <br> fd00:fdfd:0:3000::11/64</td> <td>300</td> </tr> <tr> <td></td> <td>eth1.311</td> <td>10.30.1.11/24 <br> fd00:fdfd:0:3001::11/64</td> <td>311</td> </tr> <tr> <td>client12</td> <td>eth1.300</td> <td>10.30.0.12/24 <br> fd00:fdfd:0:3000::12/64</td> <td>300</td> </tr> <tr> <td></td> <td>eth1.312</td> <td>10.30.2.12/24 <br> fd00:fdfd:0:3002::12/64</td> <td>312</td> </tr> <tr> <td>client13</td> <td>eth1.300</td> <td>10.30.0.13/24 <br> fd00:fdfd:0:3000::13/64</td> <td>300</td> </tr> <tr> <td></td> <td>eth1.313</td> <td>10.30.3.13/24 <br> fd00:fdfd:0:3003::13/64</td> <td>313</td> </tr> </tbody> </table> <p>And your task is to create a service that has the following connectivity matrix:</p> <figure> <div class=mxgraph style="max-width:100%;border:1px solid transparent;margin:0 auto; display:block; box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); border-radius: 0.25rem;" data-mxgraph='{"page":9,"zoom":1.5,"highlight":"#0000ff","nav":true,"resize":true,"edit":"_blank","url":"https://raw.githubusercontent.com/srexperts/hackathon-diagrams/main/eda.drawio"}'> </div> <figcaption>Target connectivity</figcaption> </figure> <div class="admonition warning"> <p class=admonition-title>IMPORTANT</p> <p>Remove any Bridge Domains, Bridge Interfaces, VLANs and Routed Interfaces that you may have created in the <a href=bridge-domains.html>Bridge Domains/Part 1</a> and the <a href=routers.html>Routers/Part 2</a> as our Virtual Network will create them or <a href=../index.html#reset-eda>simply reset EDA using the git time machine</a>.</p> <p>Be careful when removing these resources and do not remove resources that have <code>role=hackathon-infra</code> tag as they are infrastructure related. But if you messed it up, don't worry, you can always <a href=../index.html#reset-eda>reset EDA</a>.</p> </div> <p>You should expect that clients can't reach each other in any direction, due to no overlay services being configured.</p> <h3 id=list-virtual-networks>List Virtual Networks<a class=headerlink href=#list-virtual-networks title="Permanent link">#</a></h3> <p>Login to the EDA UI using the assigned Group ID and EDA credentials provided to you.</p> <div class="admonition subtle-info"> <p class=admonition-title>EDA Core and the Apps</p> <p>The EDA platform consists of the core and the apps that extend it and provide the resources for declarative network management. Although you can make your own apps, Nokia already provides an extensive library of pre-installed apps that can handle a lot of configuration tasks. Programming your own app is beyond the scope of this exercise.</p> </div> <p>Look at the app menu in the left sidebar for <span class=ui__icon><span style="display: inline-flex; align-items: center; justify-content: center; width: 18px; height: 18px; border-radius: 50%; background-color: var(--md-code-fg-color); color: var(--md-code-bg-color); font-weight: bold; font-size: 0.5rem;">VN</span></span><span class=icon__text>Virtual Networks</span>, which is located in the <span class=ui__icon><svg style="fill: var(--md-code-fg-color);" viewbox="0 0 24 24" height=24px width=24px> <path fill-rule=evenodd clip-rule=evenodd d="M5.75 3.75v1a1 1 0 0 1-1 1h-1v3.5h1a1 1 0 0 1 1 1v3.5a1 1 0 0 1-1 1h-1v3.5h1a1 1 0 0 1 1 1v1H10a.75.75 0 0 1 0 1.5H5.25a1 1 0 0 1-1-1v-1h-1a1 1 0 0 1-1-1v-4.5a1 1 0 0 1 1-1h1v-2.5h-1a1 1 0 0 1-1-1v-4.5a1 1 0 0 1 1-1h1v-1a1 1 0 0 1 1-1h4.5a1 1 0 0 1 1 1v1h2.5v-1a1 1 0 0 1 1-1h4.5a1 1 0 0 1 1 1v1h1a1 1 0 0 1 1 1v4.5a1 1 0 0 1-1 1h-1v1.75h-1.5v-2.25a1 1 0 0 1 1-1h1v-3.5h-1a1 1 0 0 1-1-1v-1h-3.5v1a1 1 0 0 1-1 1h-3.5a1 1 0 0 1-1-1v-1h-3.5zm3.5 5.5v5.5H12a.75.75 0 0 1 0 1.5H9c-.69 0-1.25-.56-1.25-1.25V9c0-.69.56-1.25 1.25-1.25h6c.69 0 1.25.56 1.25 1.25v3h-1.5V9.25h-5.5zm5.194 7.45a3.125 3.125 0 0 1 5.828-.755c.13-.022.265-.037.401-.042a.753.753 0 0 1 .137-.013 3.183 3.183 0 0 1 3.18 3.18 3.183 3.183 0 0 1-3.18 3.18h-5.783a2.807 2.807 0 0 1-2.767-2.81c0-1.339.932-2.456 2.184-2.74zm3.046-.95a1.62 1.62 0 0 0-1.62 1.63.75.75 0 0 1-.75.75h-.05c-.726 0-1.31.584-1.31 1.31 0 .721.571 1.294 1.287 1.31h5.763c.926 0 1.68-.754 1.68-1.68 0-.894-.703-1.628-1.585-1.677a.76.76 0 0 1-.105.007c-.237 0-.476.055-.692.148a.75.75 0 0 1-1.03-.529 1.623 1.623 0 0 0-1.588-1.269z"> </path> </svg> </span><span class=icon__text>VIRTUAL NETWORK</span> category.</p> <p><a class=glightbox href=../../images/eda/eda_vnet_navigation.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Navigating to the Virtual Networks application" src=../../images/eda/eda_vnet_navigation.png></a></p> <p>When you click on the <span class=ui__icon><span style="display: inline-flex; align-items: center; justify-content: center; width: 18px; height: 18px; border-radius: 50%; background-color: var(--md-code-fg-color); color: var(--md-code-bg-color); font-weight: bold; font-size: 0.5rem;">VN</span></span><span class=icon__text>Virtual Networks</span> menu element, you get the list of existing Virtual Network resources. There will be one VNET already that powers up the hackathon infrastructure, but it does not interfere with the goal of this exercise.<br> Time to create your first Virtual Network and make your clients talk to each other.</p> <h3 id=create-a-virtual-network>Create a Virtual Network<a class=headerlink href=#create-a-virtual-network title="Permanent link">#</a></h3> <p>Use the knowledge of the previous two exercises (<a href=bridge-domains.html>Bridge Domains</a> and <a href=routers.html>Routers</a>) to achieve the connectivity as shown on the diagram above. A single virtual network resource would be able to define the following:</p> <ul> <li>a <strong>Router</strong> to create the IP-VRF of the EVPNVXLAN type</li> <li>two <strong>Routed Interfaces</strong> to connect the Router to the <code>client11</code> and <code>client13</code> over the respective VLANs 311 and 313</li> <li>two <strong>Bridge Domains</strong> to create subnets for VLAN 300 and 312 respectively</li> <li>two <strong>VLAN</strong> resources to create Bridge Interfaces for the respective VLANs 300 and 312</li> <li>two <strong>IRB Interfaces</strong> to connect the Bridge Domains to the Router</li> </ul> <p>Yes, a single Virtual Network resource can define all of these objects, and it will emit the necessary sub resources, and each sub resource can emit its own sub resources, and so on, until the configuration is complete.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Hosts <code>client11</code> and <code>client13</code> are both single-homed clients, meaning that they physically connect to only one leaf switch.</p> <p>Host <code>client12</code> is different: it is multihomed to 3 leaf switches in an all-active configuration, and its EDA interface is called <code>lag1</code>. Can you find this special interface in EDA? Which physical ports are connected to <code>client12</code>?</p> </div> <div class="admonition warning"> <p class=admonition-title>Auto-completion for non-committed objects</p> <p>When creating an IRB for example, you must specify references to both a Router and a Bridge Domain. The autocomplete suggestions of these fields only show created objects. Therefore, you will not see suggestions for Routers and Bridge Domains that have not been committed yet. Specify the name without the auto-completion, as you provide it in the same resource.</p> </div> <details class=success> <summary>Solution</summary> <p>It might be tricky to solve this challenge if you see EDA for the first time, so here is a solution:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">services.eda.nokia.com/v1</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VirtualNetwork</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">virtual-network</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">eda</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>    </span><span class=nt>role</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">exercise</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=w>  </span><span class=nt>routers</span><span class=p>:</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-router</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=w>        </span><span class=nt>eviPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">evi-pool</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=w>        </span><span class=nt>tunnelIndexPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tunnel-index-pool</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">EVPNVXLAN</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=w>        </span><span class=nt>vniPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vni-pool</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=w>  </span><span class=nt>routedInterfaces</span><span class=p>:</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-routed-interface-client11</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=w>        </span><span class=nt>interface</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">leaf11-client11</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=w>        </span><span class=nt>ipv4Addresses</span><span class=p>:</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10.30.1.1/24</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=w>            </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=w>        </span><span class=nt>ipv6Addresses</span><span class=p>:</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fd00:fdfd:0:3001::1/64</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a><span class=w>            </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a><span class=w>        </span><span class=nt>router</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-router</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=w>        </span><span class=nt>vlanID</span><span class=p>:</span><span class=w> </span><span class=s>&#39;311&#39;</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-routed-interface-client13</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a><span class=w>        </span><span class=nt>interface</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">leaf13-client13</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a><span class=w>        </span><span class=nt>ipv4Addresses</span><span class=p>:</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10.30.3.1/24</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a><span class=w>            </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a><span class=w>        </span><span class=nt>ipv6Addresses</span><span class=p>:</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fd00:fdfd:0:3003::1/64</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a><span class=w>            </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a><span class=w>        </span><span class=nt>router</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-router</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a><span class=w>        </span><span class=nt>vlanID</span><span class=p>:</span><span class=w> </span><span class=s>&#39;313&#39;</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a><span class=w>  </span><span class=nt>bridgeDomains</span><span class=p>:</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-bridge-domain-300</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a><span class=w>        </span><span class=nt>eviPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">evi-pool</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a><span class=w>        </span><span class=nt>tunnelIndexPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tunnel-index-pool</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">EVPNVXLAN</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a><span class=w>        </span><span class=nt>vniPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vni-pool</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-bridge-domain-312</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a><span class=w>        </span><span class=nt>eviPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">evi-pool</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a><span class=w>        </span><span class=nt>tunnelIndexPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tunnel-index-pool</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">EVPNVXLAN</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a><span class=w>        </span><span class=nt>vniPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vni-pool</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a><span class=w>  </span><span class=nt>vlans</span><span class=p>:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-vlan-300</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a><span class=w>        </span><span class=nt>bridgeDomain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-bridge-domain-300</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a><span class=w>        </span><span class=nt>interfaceSelector</span><span class=p>:</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">edge-type=compute</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a><span class=w>        </span><span class=nt>uplink</span><span class=p>:</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a><span class=w>          </span><span class=nt>uplinkVLANID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pool</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a><span class=w>        </span><span class=nt>vlanID</span><span class=p>:</span><span class=w> </span><span class=s>&#39;300&#39;</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-vlan-312</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a><span class=w>        </span><span class=nt>bridgeDomain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-bridge-domain-312</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a><span class=w>        </span><span class=nt>interfaceSelector</span><span class=p>:</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">edge-type=compute</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a><span class=w>        </span><span class=nt>uplink</span><span class=p>:</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a><span class=w>          </span><span class=nt>uplinkVLANID</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pool</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a><span class=w>        </span><span class=nt>vlanID</span><span class=p>:</span><span class=w> </span><span class=s>&#39;312&#39;</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a><span class=w>  </span><span class=nt>irbInterfaces</span><span class=p>:</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74 href=#__codelineno-0-74></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-irb-300</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75 href=#__codelineno-0-75></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76 href=#__codelineno-0-76></a><span class=w>        </span><span class=nt>bridgeDomain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-bridge-domain-300</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77 href=#__codelineno-0-77></a><span class=w>        </span><span class=nt>ipAddresses</span><span class=p>:</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78 href=#__codelineno-0-78></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>ipv4Address</span><span class=p>:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79 href=#__codelineno-0-79></a><span class=w>              </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10.30.0.1/24</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80 href=#__codelineno-0-80></a><span class=w>              </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81 href=#__codelineno-0-81></a><span class=w>            </span><span class=nt>ipv6Address</span><span class=p>:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82 href=#__codelineno-0-82></a><span class=w>              </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fd00:fdfd:0:3000::1/64</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83 href=#__codelineno-0-83></a><span class=w>              </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84 href=#__codelineno-0-84></a><span class=w>        </span><span class=nt>hostRoutePopulate</span><span class=p>:</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85 href=#__codelineno-0-85></a><span class=w>          </span><span class=nt>dynamic</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86 href=#__codelineno-0-86></a><span class=w>          </span><span class=nt>static</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87 href=#__codelineno-0-87></a><span class=w>        </span><span class=nt>router</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-router</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88 href=#__codelineno-0-88></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-irb-312</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89 href=#__codelineno-0-89></a><span class=w>      </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90 href=#__codelineno-0-90></a><span class=w>        </span><span class=nt>bridgeDomain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-bridge-domain-312</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91 href=#__codelineno-0-91></a><span class=w>        </span><span class=nt>ipAddresses</span><span class=p>:</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92 href=#__codelineno-0-92></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>ipv4Address</span><span class=p>:</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93 href=#__codelineno-0-93></a><span class=w>              </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10.30.2.1/24</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94 href=#__codelineno-0-94></a><span class=w>              </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95 href=#__codelineno-0-95></a><span class=w>            </span><span class=nt>ipv6Address</span><span class=p>:</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96 href=#__codelineno-0-96></a><span class=w>              </span><span class=nt>ipPrefix</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fd00:fdfd:0:3002::1/64</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97 href=#__codelineno-0-97></a><span class=w>              </span><span class=nt>primary</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98 href=#__codelineno-0-98></a><span class=w>        </span><span class=nt>hostRoutePopulate</span><span class=p>:</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99 href=#__codelineno-0-99></a><span class=w>          </span><span class=nt>dynamic</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100 href=#__codelineno-0-100></a><span class=w>          </span><span class=nt>static</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101 href=#__codelineno-0-101></a><span class=w>        </span><span class=nt>router</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vnet-router</span>
</span></code></pre></div> </details> <p>We recommend you do a Dry Run first, and see the node configuration diff to see how much stuff gets created on the node when you commit it. Overlay services is not a small feat, and configuring this manually would be a lot of work. With EDA, you get a lot for free, with reliable and fast transaction model to ensure consistency and reliability.</p> <p>When the Virtual Network resource is successfully created, test the connectivity between the clients. Try to understand what the ping command is doing, and which components you created in EDA are responsible for routing/switching the traffic to the correct destination. The activity has been successfully completed if all these ping commands succeed.</p> <details class=info> <summary>Ping &amp; traceroute command syntax</summary> <p>You can use the <code>-I</code> flat to force a ping request to exit through a particular interface. This is used in the commands below to force the traffic to either be switched or routed.</p> <p>Similarly, you can use the <code>-i</code> flag with traceroute to see the difference between switched and routed traffic:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>[*][client11][/]
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>&gt; traceroute -i eth1.300 10.30.0.12
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>traceroute to 10.30.0.12 (10.30.0.12), 30 hops max, 46 byte packets
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a> 1  10.30.0.12 (10.30.0.12)  0.826 ms  0.733 ms  0.510 ms
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>[*][client11][/]
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>&gt; traceroute -i eth1.311 10.30.0.12
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>traceroute to 10.30.0.12 (10.30.0.12), 30 hops max, 46 byte packets
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a> 1  10.30.1.1 (10.30.1.1)  1.156 ms  1.262 ms  0.769 ms
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a> 2  10.30.0.12 (10.30.0.12)  0.978 ms  0.777 ms  0.777 ms
</span></code></pre></div> </details> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Client11</label><label for=__tabbed_1_2>Client12</label><label for=__tabbed_1_3>Client13</label></div> <div class=tabbed-content> <div class=tabbed-block> <ul> <li><code>ping -I eth1.300 10.30.0.12</code></li> <li><code>ping -I eth1.311 10.30.2.12</code></li> <li><code>ping -I eth1.311 10.30.3.13</code></li> </ul> </div> <div class=tabbed-block> <ul> <li><code>ping -I bond0.300 10.30.0.13</code></li> <li><code>ping -I bond0.312 10.30.1.11</code></li> <li><code>ping -I bond0.312 10.30.3.13</code></li> </ul> </div> <div class=tabbed-block> <ul> <li><code>ping -I eth1.300 10.30.0.11</code></li> <li><code>ping -I eth1.313 10.30.1.11</code></li> <li><code>ping -I eth1.313 10.30.2.12</code></li> </ul> </div> </div> </div> <h2 id=summary>Summary<a class=headerlink href=#summary title="Permanent link">#</a></h2> <p>In this exercise, you successfully created a Virtual Network that combines both layer-2 and layer-3 connectivity in a single abstracted intent. Specifically:</p> <ul> <li>You created a Virtual Network resource that defined multiple components in one declaration:<ul> <li>A Router to create an IP-VRF for layer-3 routing</li> <li>Routed Interfaces to connect clients directly to the Router over specific VLANs</li> <li>Bridge Domains to create layer-2 connectivity for specific VLANs</li> <li>VLAN resources to create Bridge Interfaces for the respective VLANs</li> <li>IRB Interfaces to connect the Bridge Domains to the Router, enabling inter-subnet routing</li> </ul> </li> </ul> <p>This exercise demonstrated the power of abstraction in EDA, where a single high-level Virtual Network resource can emit multiple sub-resources to orchestrate a complete connectivity solution. By combining layer-2 and layer-3 services, you've created a more flexible network design that supports both applications requiring direct layer-2 connectivity and the scalability benefits of layer-3 routing between subnets.</p> <p>Now that you've mastered the basics of creating overlay services with EDA using both manual configuration and the Virtual Network abstraction, you're ready to move on to <a href=../advanced/service-automation.html>Part 4</a> where you'll switch from UI to the code editor and will automate the service provisioning with EDA REST API!</p> <div class=footnote> <hr> <ol> <li id=fn:1> <p>You can check an in-depth lab where we covered this type of design at <a href=https://learn.srlinux.dev/tutorials/l3evpn/rt5-only/ >Learn SR Linux blog</a>.&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> </ol> </div> <!--
 Copyright 2025 Nokia
 Licensed under the BSD 3-Clause License.
 SPDX-License-Identifier: BSD-3-Clause
--> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Copyright and theme information --> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2026 Nokia </div> Made with <span class="twemoji mdx-heart"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14 20.408c-.492.308-.903.546-1.192.709q-.23.129-.463.252h-.002a.75.75 0 0 1-.686 0 17 17 0 0 1-.465-.252 31 31 0 0 1-4.803-3.34C3.8 15.572 1 12.331 1 8.513 1 5.052 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262A31 31 0 0 1 14 20.408"/></svg> </span> by <a href=https://github.com/nokia/SReXperts target=_blank rel=noopener> SReXperts SReXplore team </a> </div> <div class=md-social> <a href=https://github.com/lvaneeckh/kpn-mini-srx-hackathon target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": {"bash": [".s1", ".s2"]}, "base": "../..", "features": ["navigation.top", "navigation.tabs", "navigation.sections", "search.suggest", "content.code.annotate", "content.code.copy", "content.code.select", "content.action.edit", "toc.follow", "content.tooltips", "content.footnote.tooltips", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.f807c082.min.js></script> <script src=../../javascripts/sh-annotation.js></script> <script src=../../javascripts/drawio-reinit.js></script> <script src=../../javascripts/drawio-viewer.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>