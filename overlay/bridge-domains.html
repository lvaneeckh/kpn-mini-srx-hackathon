<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="KPN Mini SReXperts hackathon event guidelines" name=description><meta content=Nokia name=author><link href=https://kpn.srexperts.net/overlay/bridge-domains.html rel=canonical><link href=../eda/beginner/configlets.html rel=prev><link href=routers.html rel=next><link href=../assets/images/favicon.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.6.14" name=generator><title>Bridge Domains - KPN Mini SReXperts EDA hackathon 2026</title><link href=../assets/stylesheets/main.342714a4.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../stylesheets/nokia.css rel=stylesheet><link href=../stylesheets/nokia-fonts.css rel=stylesheet><link href=../stylesheets/diagrams.css rel=stylesheet><link href=../stylesheets/animations.css rel=stylesheet><link href=../stylesheets/feedback.css rel=stylesheet><link href=../stylesheets/collapse-code.css rel=stylesheet><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#bridge-domains> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label="KPN Mini SReXperts EDA hackathon 2026" class="md-header__button md-logo" data-md-component=logo href=../index.html title="KPN Mini SReXperts EDA hackathon 2026"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> KPN Mini SReXperts EDA hackathon 2026 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Bridge Domains </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="KPN Mini SReXperts EDA hackathon 2026" class="md-nav__button md-logo" data-md-component=logo href=../index.html title="KPN Mini SReXperts EDA hackathon 2026"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> KPN Mini SReXperts EDA hackathon 2026 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../index.html> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Intro </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_2_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Intro </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../intro/index.html> <span class=md-ellipsis> EDA </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../intro/srl-cli.html> <span class=md-ellipsis> SR Linux CLI </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../intro/declarative-intents.html> <span class=md-ellipsis> Declarative Intents </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../intro/eda-query-language.html> <span class=md-ellipsis> EDA Query Language </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_3 type=checkbox> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Underlay/Overlay Networks </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_3_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Underlay/Overlay Networks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../underlay/fabrics.html> <span class=md-ellipsis> Fabrics </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Telco-Cloud use-case </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Telco-Cloud use-case </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../telco-cloud/unequal-ecmp.html> <span class=md-ellipsis> Unequal ECMP </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_5 type=checkbox> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_5_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_1 type=checkbox> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> EDA Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_1_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> EDA Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../intro/label-based-selection.html> <span class=md-ellipsis> Label-based Selection </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../eda/beginner/allocations.html> <span class=md-ellipsis> Allocations </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../eda/beginner/configlets.html> <span class=md-ellipsis> Configlets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_5_2 type=checkbox> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Services </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_5_2_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Bridge Domains </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href=bridge-domains.html> <span class=md-ellipsis> Bridge Domains </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#objective> <span class=md-ellipsis> Objective </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#technology-explanation> <span class=md-ellipsis> Technology explanation </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tasks> <span class=md-ellipsis> Tasks </span> </a> <nav aria-label=Tasks class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#inspect-the-ip-configuration-of-both-clients> <span class=md-ellipsis> Inspect the IP configuration of both clients </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#list-bridge-domains> <span class=md-ellipsis> List Bridge Domains </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#create-a-bridge-domain> <span class=md-ellipsis> Create a bridge domain </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#create-bridge-interfaces> <span class=md-ellipsis> Create Bridge Interfaces </span> </a> <nav aria-label="Create Bridge Interfaces" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#resource-status> <span class=md-ellipsis> Resource status </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#testing-the-connectivity> <span class=md-ellipsis> Testing the connectivity </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#using-labels> <span class=md-ellipsis> Using labels </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#vlan-resource> <span class=md-ellipsis> VLAN resource </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#test-the-connectivity> <span class=md-ellipsis> Test the connectivity </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=routers.html> <span class=md-ellipsis> Routers </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=virtual-networks.html> <span class=md-ellipsis> Virtual Networks </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_3 type=checkbox> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_3_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../eda/intermediate/install-eda.html> <span class=md-ellipsis> Install Your Own EDA </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../eda/intermediate/custom-allocations.html> <span class=md-ellipsis> Custom Allocations </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../eda/intermediate/api.html> <span class=md-ellipsis> REST API </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../eda/advanced/service-automation.html> <span class=md-ellipsis> Service Automation using Python </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#objective> <span class=md-ellipsis> Objective </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#technology-explanation> <span class=md-ellipsis> Technology explanation </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tasks> <span class=md-ellipsis> Tasks </span> </a> <nav aria-label=Tasks class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#inspect-the-ip-configuration-of-both-clients> <span class=md-ellipsis> Inspect the IP configuration of both clients </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#list-bridge-domains> <span class=md-ellipsis> List Bridge Domains </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#create-a-bridge-domain> <span class=md-ellipsis> Create a bridge domain </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#create-bridge-interfaces> <span class=md-ellipsis> Create Bridge Interfaces </span> </a> <nav aria-label="Create Bridge Interfaces" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#resource-status> <span class=md-ellipsis> Resource status </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#testing-the-connectivity> <span class=md-ellipsis> Testing the connectivity </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#using-labels> <span class=md-ellipsis> Using labels </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#vlan-resource> <span class=md-ellipsis> VLAN resource </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#test-the-connectivity> <span class=md-ellipsis> Test the connectivity </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=bridge-domains><span class="enumerate-headings-plugin enumerate-heading-plugin">1.</span> Bridge domains<a class=headerlink href=#bridge-domains title="Permanent link">#</a></h1> <script async src=https://viewer.diagrams.net/js/viewer-static.min.js type=text/javascript></script> <table> <thead> <tr> <th></th> <th></th> </tr> </thead> <tbody> <tr> <td><strong>Short Description</strong></td> <td>Creating bridge domains with EDA to achieve layer 2 connectivity</td> </tr> <tr> <td><strong>Difficulty</strong></td> <td>Beginner</td> </tr> <tr> <td><strong>Topology Nodes</strong></td> <td><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"></path></svg></span> client1, <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"></path></svg></span> client3, <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m1-7v3h2l-3 3-3-3h2v-3m-6 0h3v2l3-3-3-3v2H5m6 0V8H9l3-3 3 3h-2v3m6 0h-3V9l-3 3 3 3v-2h3"></path></svg></span> leaf1, <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m1-7v3h2l-3 3-3-3h2v-3m-6 0h3v2l3-3-3-3v2H5m6 0V8H9l3-3 3 3h-2v3m6 0h-3V9l-3 3 3 3v-2h3"></path></svg></span> leaf3</td> </tr> </tbody> </table> <p>This is the first exercise in a 3-part series around using EDA to achieve connectivity to, from, and within your datacenter. In this exercise, we will achieve layer-2 connectivity between two hosts in the same broadcast domain.</p> <ul> <li><strong>Part 1 (this activity)</strong>: achieve layer-2 connectivity using bridge domains</li> <li><strong><a href=routers.html>Part 2</a></strong>: achieve layer-3 connectivity using routers</li> <li><strong><a href=virtual-networks.html>Part 3</a></strong>: combine layer-2 and layer-3 connectivity through a single EDA object - the Virtual Network (VNET)</li> </ul> <h2 id=objective><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1</span> Objective<a class=headerlink href=#objective title="Permanent link">#</a></h2> <p>In this exercise, we enable the layer 2 connectivity between the two linux hosts in our lab topology. Both linux hosts have an IP address in the same IP subnet and our objective is to ensure that the traffic is switched over the datacenter fabric using a dedicated and isolated MAC-VRF service.</p> <h2 id=technology-explanation><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2</span> Technology explanation<a class=headerlink href=#technology-explanation title="Permanent link">#</a></h2> <p>Layer-2 or switched traffic in a datacenter is often used in distributed workloads to accommodate connectivity between two computes, without the router being aware of which IPs the computes use to communicate. Some prominent examples where Layer 2 connectivity is required are:</p> <ol> <li> <p><strong>VM mobility</strong></p> <p>Virtual machines are being recreated with the same IP on a different physical compute, to allow for maintenance and rapid failover.</p> </li> <li> <p><strong>DHCP</strong></p> <p>Broadcast traffic is often a significant and important part of connectivity between computes and relies exclusively on MAC addresses to communicate. One such example is the dynamic host configuration protocol (DHCP) used to dynamically assign IP addresses.</p> </li> </ol> <p>In this exercise, we'll take a look at how layer 2 connectivity can be facilitated using EDA's Bridge Domains. A bridge domain is another word for a Virtual Private LAN Service (VPLS in SR OS lingo) or a MAC-VRF (SR Linux).</p> <h2 id=tasks><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3</span> Tasks<a class=headerlink href=#tasks title="Permanent link">#</a></h2> <div class="admonition subtle-question"> <p class=admonition-title>See <a href=../index.html#access-details>Access Details</a> if you need a reminder on how to access the nodes in the topology.</p> </div> <h3 id=inspect-the-ip-configuration-of-both-clients><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.1</span> Inspect the IP configuration of both clients<a class=headerlink href=#inspect-the-ip-configuration-of-both-clients title="Permanent link">#</a></h3> <p>Before we start, we need to verify the IP configuration on both clients. We're interested in two things:</p> <ol> <li>the <strong>VLAN</strong> the clients use to communicate</li> <li>the <strong>IP address</strong> of each client so we can test later whether the connectivity is in place.<br> Multiple IP addresses are configured for different hackathon exercises, so you're looking for an IP in the subnet <code>10.30.0.0/24</code></li> </ol> <p>To connect to the shell of the client nodes, you should connect to the server running your lab and then ssh to each node, for example, for <code>client1</code>:</p> <div class="language-bash highlight"><span class=filename>execute from the lab server</span><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a>ssh<span class=w> </span>admin@clab-kpn-hackathon-client1
</span></code></pre></div> <div class=embed-result> <div class="language-text no-select no-copy highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a>[*]─[client1]─[~]
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>└──&gt;
</span></code></pre></div> </div> <p>When in the client shell, try to answer these questions:</p> <ul> <li>Which <strong>VLAN</strong> are the clients using to communicate?</li> <li>Which command can you use to test the connectivity?</li> </ul> <details class=tip> <summary>Hint: the relevant IP interfaces on the clients</summary> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>client-1</label><label for=__tabbed_1_2>client-3</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client1<span class=o>]</span>─<span class=o>[</span>~<span class=o>]</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>└──&gt;<span class=w> </span>ip<span class=w> </span>route<span class=w> </span>show<span class=w> </span><span class=m>10</span>.30.0.0/24
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=m>10</span>.30.0.0/24<span class=w> </span>dev<span class=w> </span>eth1.300<span class=w> </span>proto<span class=w> </span>kernel<span class=w> </span>scope<span class=w> </span>link<span class=w> </span>src<span class=w> </span><span class=m>10</span>.30.0.11
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client3<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>└──&gt;<span class=w> </span>ip<span class=w> </span>a<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span><span class=s2>"10.30.0"</span><span class=w> </span>-A<span class=w> </span><span class=m>5</span><span class=w> </span>-B<span class=w> </span><span class=m>2</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=m>5</span>:<span class=w> </span>eth1.300@eth1:<span class=w> </span>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;<span class=w> </span>mtu<span class=w> </span><span class=m>9500</span><span class=w> </span>qdisc<span class=w> </span>noqueue<span class=w> </span>state<span class=w> </span>UP<span class=w> </span>group<span class=w> </span>default<span class=w> </span>qlen<span class=w> </span><span class=m>1000</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>    </span>link/ether<span class=w> </span>aa:c1:ab:b9:1b:9e<span class=w> </span>brd<span class=w> </span>ff:ff:ff:ff:ff:ff
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a><span class=w>    </span>inet<span class=w> </span><span class=m>10</span>.30.0.13/24<span class=w> </span>scope<span class=w> </span>global<span class=w> </span>eth1.300
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a><span class=w>       </span>valid_lft<span class=w> </span>forever<span class=w> </span>preferred_lft<span class=w> </span>forever
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a><span class=w>    </span>inet6<span class=w> </span>fd00:fdfd:0:3000::13/64<span class=w> </span>scope<span class=w> </span>global
</span><span id=__span-3-8><a href=#__codelineno-3-8 id=__codelineno-3-8 name=__codelineno-3-8></a><span class=w>       </span>valid_lft<span class=w> </span>forever<span class=w> </span>preferred_lft<span class=w> </span>forever
</span><span id=__span-3-9><a href=#__codelineno-3-9 id=__codelineno-3-9 name=__codelineno-3-9></a><span class=w>    </span>inet6<span class=w> </span>fe80::a8c1:abff:feb9:1b9e/64<span class=w> </span>scope<span class=w> </span>link
</span><span id=__span-3-10><a href=#__codelineno-3-10 id=__codelineno-3-10 name=__codelineno-3-10></a><span class=w>       </span>valid_lft<span class=w> </span>forever<span class=w> </span>preferred_lft<span class=w> </span>forever
</span></code></pre></div> </div> </div> </div> </details> <details class=success> <summary>Solution</summary> <p>The VLAN the computes will use to access the layer 2 domain is VLAN <code>300</code>. Note that there are both IPv4 and IPv6 addresses configured on the node.</p> <p>To test the connectivity, the following command can be used. Note that connectivity is currently not working, as expected. We will have to create the Bridge Domain to achieve it.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=c1># for IPv4</span>
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a><span class=o>[</span>x<span class=o>]</span>─<span class=o>[</span>client1<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>10</span>.30.0.13
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>PING<span class=w> </span><span class=m>10</span>.30.0.13<span class=w> </span><span class=o>(</span><span class=m>10</span>.30.0.13<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=o>(</span><span class=m>84</span><span class=o>)</span><span class=w> </span>bytes<span class=w> </span>of<span class=w> </span>data.
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a>From<span class=w> </span><span class=m>10</span>.30.0.11<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span>Destination<span class=w> </span>Host<span class=w> </span>Unreachable
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>
</span><span id=__span-4-7><a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a>---<span class=w> </span><span class=m>10</span>.30.0.13<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-4-8><a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>0</span><span class=w> </span>received,<span class=w> </span>+1<span class=w> </span>errors,<span class=w> </span><span class=m>100</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span></code></pre></div> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a><span class=c1># for IPv6</span>
</span><span id=__span-5-2><a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a><span class=o>[</span>x<span class=o>]</span>─<span class=o>[</span>client1<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-5-3><a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span>fd00:fdfd:0:3000::13
</span><span id=__span-5-4><a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a>PING<span class=w> </span>fd00:fdfd:0:3000::13<span class=o>(</span>fd00:fdfd:0:3000::13<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=w> </span>data<span class=w> </span>bytes
</span><span id=__span-5-5><a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a>From<span class=w> </span>fd00:fdfd:0:3000::11<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span>Destination<span class=w> </span>unreachable:<span class=w> </span>Address<span class=w> </span>unreachable
</span><span id=__span-5-6><a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a>
</span><span id=__span-5-7><a href=#__codelineno-5-7 id=__codelineno-5-7 name=__codelineno-5-7></a>---<span class=w> </span>fd00:fdfd:0:3000::13<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-5-8><a href=#__codelineno-5-8 id=__codelineno-5-8 name=__codelineno-5-8></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>0</span><span class=w> </span>received,<span class=w> </span>+1<span class=w> </span>errors,<span class=w> </span><span class=m>100</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span></code></pre></div> </details> <h3 id=list-bridge-domains><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.2</span> List Bridge Domains<a class=headerlink href=#list-bridge-domains title="Permanent link">#</a></h3> <p>Login to the EDA UI using the assigned Group ID and EDA credentials provided to you.</p> <p>The EDA platform consists of the core and the apps that extend it and provide the resources for declarative network management. Although you can make your own apps, Nokia already provides an extensive library of pre-installed apps that can handle a lot of configuration tasks. Programming your own app is beyond the scope of this exercise.</p> <p>Look at the app menu in the left sidebar for "Bridge Domains", which is located in the "Virtual Networks" category.</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=https://gitlab.com/rdodin/pics/-/wikis/uploads/8e264f4ec777c601d31057b84e368fae/CleanShot_2025-05-01_at_15.35.44_2x.png><img alt=bd-main src=https://gitlab.com/rdodin/pics/-/wikis/uploads/8e264f4ec777c601d31057b84e368fae/CleanShot_2025-05-01_at_15.35.44_2x.png></a></p> <p>When you click on the Bridge Domain menu element, you will see the list of existing Bridge Domains. A few of them are already there to power up other exercises, but none of them enable connectivity over VLAN 300 that our clients are intent on using.</p> <p>If you come from operations you don't just blindly trust some lines in a management system, you want proofs, and better yet, the exact config that is running on the devices. Normally, you would log in to the switches, maybe one by one, and run the show commands. But this is so eighties, how about you use the query language that EDA provides and ask all your network elements to list their MAC VRFs?</p> <p>EDA comes with a built-in network-wide query engine that allows you to query the network devices in a performant and scalable way. Using the sidebar navigation menu, select the <strong>Queries</strong> menu and paste the following in the EQL Query input field:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a>.namespace.node.srl.network-instance where ( type = "mac-vrf" )
</span></code></pre></div> <p>You should see a network-wide query result with all nodes reporting back all network instances of type <code>mac-vrf</code> they have configured.</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../images/list-mac-vrfs.png><img alt=macvrfs-query src=../images/list-mac-vrfs.png></a></p> <p>Then you can ask the nodes to list all subinterfaces they have and their single-tagged vlan ids:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>.namespace.node.srl.interface.subinterface.vlan.encap.single-tagged
</span></code></pre></div> <p>You will likely won't see any subinterface with VLAN 300, and that's expected, we did not configure this either. So let's get to it.</p> <h3 id=create-a-bridge-domain><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.3</span> Create a bridge domain<a class=headerlink href=#create-a-bridge-domain title="Permanent link">#</a></h3> <p>In the <strong>Virtual Networks</strong> → <strong>Bridge Domains</strong> app page click the "Create" button in the top-right to create a new bridge domain. In the center of the screen you can see all configuration options for the new bridge domain, and on the right is a YAML representation of the same. You can either fill the form fields, or edit the YAML, whatever you prefer.</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=https://gitlab.com/rdodin/pics/-/wikis/uploads/bf50bf63da050fbed1422e00cd2a35f6/CleanShot_2025-08-14_at_15.49.03.webp><img alt="Creating a bridge domain" src=https://gitlab.com/rdodin/pics/-/wikis/uploads/bf50bf63da050fbed1422e00cd2a35f6/CleanShot_2025-08-14_at_15.49.03.webp></a></p> <p>Create a new bridge domain, so you can attach some interfaces to it in the next step. If you're not sure which value you need to pick for a particular property, you can leave the field default or empty. The most important properties are:</p> <ul> <li>A <strong>name</strong> so you can reference this bridge domain later.</li> <li>The <strong>type</strong> should be left as "EVPNVXLAN", as the Bridge Domain (mac vrf) will be used to provide overlay services.</li> </ul> <details class=info> <summary>A note about namespaces</summary> <p>Namespaces in EDA are used to separate resources into any way you see fit: in a real-life network, you may want to split your fabric resources into regions or functions, for example. In the hackathon we have only one namespace - <code>eda</code> - which has been pre-configured in your lab topology.</p> </details> <p>When you are finished, you can press the <strong>Commit</strong> button to commit the transaction<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup> right away which will result in EDA verifying the correctness of the Bridge Domain configuration and... It will store the Bridge Domain resource in the EDA database, but no config will be pushed to the nodes. Why, you ask?</p> <p>The bridge domain configuration is only pushed to nodes when Bridge Interface resources are created that refer a bridge domain; And since we don't have them yet - EDA does not push anything to the nodes. We'll add them in the next step.</p> <p>The solution can be found below in YAML format, if you want to refer to it. You can copy this yaml object into the right column in the GUI to change your current config.</p> <details class=success> <summary>Solution</summary> <p>It is enough to define the Bridge Domain like this:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-8-1><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">services.eda.nokia.com/v1</span>
</span><span id=__span-8-2><a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BridgeDomain</span>
</span><span id=__span-8-3><a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-8-4><a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bridge-domain-vlan300</span>
</span><span id=__span-8-5><a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">eda</span>
</span><span id=__span-8-6><a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-8-7><a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">EVPNVXLAN</span>
</span><span id=__span-8-8><a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a><span class=w>  </span><span class=nt>vniPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vni-pool</span>
</span><span id=__span-8-9><a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a><span class=w>  </span><span class=nt>eviPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">evi-pool</span>
</span><span id=__span-8-10><a href=#__codelineno-8-10 id=__codelineno-8-10 name=__codelineno-8-10></a><span class=w>  </span><span class=nt>tunnelIndexPool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tunnel-index-pool</span>
</span></code></pre></div> <p>The key pieces here are the pools used for the VNI, EVI and tunnel index allocation. Want to know more about pools and how EDA presents itself as a source of truth and IPAM? Read about <a href=../intro/allocations.md>Allocation Pools</a> first.</p> </details> <p>After committing the Bridge Domain you can verify that it was <strong>not</strong> instantiated on the nodes by running the same EQL query listing all mac-vrfs as we did before.</p> <h3 id=create-bridge-interfaces><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.4</span> Create Bridge Interfaces<a class=headerlink href=#create-bridge-interfaces title="Permanent link">#</a></h3> <p>Bridge interfaces enable the attachment of the network interfaces to a particular service/vrf/bridge-domain. They can refer to a physical interface on a device, perform actions on ingress/egress and set the VLAN ID and thus ensure that multiple virtual machines can share the same physical interface, yet are logically isolated.</p> <p>In EDA, you can create Bridge Interfaces resources one at a time by referencing a particular interface object, or create several of them by using labels. We'll start with manually specifying an interface, but in a future step we'll do this again with labels, which are much easier to work with!</p> <p>Find the <strong>Bridge Interfaces</strong> section of the <strong>Virtual Networks</strong> category of your side menu on the left. You should not see any existing bridge interfaces, as we will create them in this exercise. Hit the <strong>Create</strong> button and let's dive in.</p> <p>Recall, that the Bridge Interface resource in EDA can reference an existing Interface object to a single Bridge Interface mapped to a network interface. You are tasked with creating a Bridge Interface that would target the already existing interface <code>leaf1-client1</code> and associate it with the Bridge Domain we created earlier.<br> In the Bridge Interface form you should at a minimum provide the following:</p> <ol> <li>Bridge Interface a name</li> <li>A reference to the Bridge Domain that this Bridge Interface should be connected to</li> <li>A VLAN ID that this Bridge Interface should be using (hint: you found out the VLAN ID in one of the previous steps!).</li> <li>A reference to the Interface resource that this Bridge Interface should be using.</li> </ol> <p>Once you figured out what to enter in the Bridge Interface form, don't hit the <strong>Commit</strong> button right away as we did with the Bridge Domain. Let's explore the power of transactions and dry runs, by clicking the <strong>Add to Transaction</strong> button and stage our change into the transaction basket.</p> <details class=success> <summary>Solution</summary> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-9-1><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">services.eda.nokia.com/v1</span>
</span><span id=__span-9-2><a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BridgeInterface</span>
</span><span id=__span-9-3><a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-9-4><a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">client1-bridge-domain-300</span>
</span><span id=__span-9-5><a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">eda</span>
</span><span id=__span-9-6><a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-9-7><a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Provides a logical connection from client1 to the bridge domain using VLAN ID 300</span>
</span><span id=__span-9-8><a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a><span class=w>  </span><span class=c1>###### WARNING ######</span>
</span><span id=__span-9-9><a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a><span class=w>  </span><span class=c1># this name should match the name of the bridge domain created earlier</span>
</span><span id=__span-9-10><a href=#__codelineno-9-10 id=__codelineno-9-10 name=__codelineno-9-10></a><span class=w>  </span><span class=c1>#####################</span>
</span><span id=__span-9-11><a href=#__codelineno-9-11 id=__codelineno-9-11 name=__codelineno-9-11></a><span class=w>  </span><span class=nt>bridgeDomain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bridge-domain-vlan300</span>
</span><span id=__span-9-12><a href=#__codelineno-9-12 id=__codelineno-9-12 name=__codelineno-9-12></a><span class=w>  </span><span class=nt>vlanID</span><span class=p>:</span><span class=w> </span><span class=s>'300'</span>
</span><span id=__span-9-13><a href=#__codelineno-9-13 id=__codelineno-9-13 name=__codelineno-9-13></a><span class=w>  </span><span class=nt>interface</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">leaf1-client1</span>
</span></code></pre></div> </details> <blockquote> <p>Learn more about <a href=../intro/declarative-intents.html#transactions>Transactions</a> and <a href=../intro/declarative-intents.html#dry-run>Dry Run</a> functionality.</p> </blockquote> <p>Use the Dry Run functionality in EDA to check what would change if we were to commit our Bridge Interface.</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../images/check-dry-run-diffs.png><img alt=dry-run-diffs src=../images/check-dry-run-diffs.png></a></p> <p>Using the dry-run feature, you can check the diffs that the particular transaction would emit, and there you have a chance to see what node-specific configs would be pushed to which nodes if we were to commit our transaction.</p> <div class="admonition note"> <p class=admonition-title>The Dry Run functionality does not touch the network elements in any way. All the potential change sets are computed by EDA. Safe and fast.</p> </div> <p>The change set in the diff view should indicate that a subinterface with vlan-id is created on the <code>leaf1</code> switch as well as the network instance of type <code>mac-vrf</code> that this subinterface is connected to.</p> <div class="admonition warning"> <p class=admonition-title>Create the Bridge Interface targeting <code>leaf3</code> node as well, to attach the second client to the bridge domain before proceeding further.</p> </div> <h4 id=resource-status><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.4.1</span> Resource status<a class=headerlink href=#resource-status title="Permanent link">#</a></h4> <p>You should be able to see the Bridge Interface status reflected in the GUI. To see the status of the configured object in EDA you can use the info icon or double click on the created resource to open up the view mode.</p> <p>You can also navigate to your bridge domain, and find out which leaf nodes are now participating in the service.</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../images/BD-state.png><img alt="Status of the bridge domain" src=../images/BD-state.png></a></p> <h3 id=testing-the-connectivity><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.5</span> Testing the connectivity<a class=headerlink href=#testing-the-connectivity title="Permanent link">#</a></h3> <p>With Bridge Domain and two Bridge Interfaces committed to the fabric, you should now have IP connectivity between your two clients! Login to one of the clients participating in the layer-2 service, and try to ping the IP of the other one!</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>client-1</label><label for=__tabbed_2_2>client-3</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Connect to the server and then SSH into the client</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a>ssh<span class=w> </span>admin@clab-kpn-hackathon-client1
</span></code></pre></div> <p>Once in the shell, ping client3:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-11-1><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client1<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-11-2><a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>10</span>.30.0.13
</span><span id=__span-11-3><a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a>PING<span class=w> </span><span class=m>10</span>.30.0.13<span class=w> </span><span class=o>(</span><span class=m>10</span>.30.0.13<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=o>(</span><span class=m>84</span><span class=o>)</span><span class=w> </span>bytes<span class=w> </span>of<span class=w> </span>data.
</span><span id=__span-11-4><a href=#__codelineno-11-4 id=__codelineno-11-4 name=__codelineno-11-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span><span class=m>10</span>.30.0.13:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>3</span>.13<span class=w> </span>ms
</span><span id=__span-11-5><a href=#__codelineno-11-5 id=__codelineno-11-5 name=__codelineno-11-5></a>
</span><span id=__span-11-6><a href=#__codelineno-11-6 id=__codelineno-11-6 name=__codelineno-11-6></a>---<span class=w> </span><span class=m>10</span>.30.0.13<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-11-7><a href=#__codelineno-11-7 id=__codelineno-11-7 name=__codelineno-11-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-11-8><a href=#__codelineno-11-8 id=__codelineno-11-8 name=__codelineno-11-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>3</span>.128/3.128/3.128/0.000<span class=w> </span>ms
</span></code></pre></div> <p>And with IPv6:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-12-1><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client1<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-12-2><a href=#__codelineno-12-2 id=__codelineno-12-2 name=__codelineno-12-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span>fd00:fdfd:0:3000::13
</span><span id=__span-12-3><a href=#__codelineno-12-3 id=__codelineno-12-3 name=__codelineno-12-3></a>PING<span class=w> </span>fd00:fdfd:0:3000::13<span class=o>(</span>fd00:fdfd:0:3000::13<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=w> </span>data<span class=w> </span>bytes
</span><span id=__span-12-4><a href=#__codelineno-12-4 id=__codelineno-12-4 name=__codelineno-12-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span>fd00:fdfd:0:3000::13:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>1</span>.92<span class=w> </span>ms
</span><span id=__span-12-5><a href=#__codelineno-12-5 id=__codelineno-12-5 name=__codelineno-12-5></a>
</span><span id=__span-12-6><a href=#__codelineno-12-6 id=__codelineno-12-6 name=__codelineno-12-6></a>---<span class=w> </span>fd00:fdfd:0:3000::13<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-12-7><a href=#__codelineno-12-7 id=__codelineno-12-7 name=__codelineno-12-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-12-8><a href=#__codelineno-12-8 id=__codelineno-12-8 name=__codelineno-12-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>1</span>.915/1.915/1.915/0.000<span class=w> </span>ms
</span></code></pre></div> </div> <div class=tabbed-block> <p>Connect to the server and then SSH into the client</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a>ssh<span class=w> </span>admin@clab-kpn-hackathon-client3
</span></code></pre></div> <p>Once in the shell, ping client1:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-14-1><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client3<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-14-2><a href=#__codelineno-14-2 id=__codelineno-14-2 name=__codelineno-14-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>10</span>.30.0.11
</span><span id=__span-14-3><a href=#__codelineno-14-3 id=__codelineno-14-3 name=__codelineno-14-3></a>PING<span class=w> </span><span class=m>10</span>.30.0.11<span class=w> </span><span class=o>(</span><span class=m>10</span>.30.0.11<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=o>(</span><span class=m>84</span><span class=o>)</span><span class=w> </span>bytes<span class=w> </span>of<span class=w> </span>data.
</span><span id=__span-14-4><a href=#__codelineno-14-4 id=__codelineno-14-4 name=__codelineno-14-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span><span class=m>10</span>.30.0.11:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>0</span>.779<span class=w> </span>ms
</span><span id=__span-14-5><a href=#__codelineno-14-5 id=__codelineno-14-5 name=__codelineno-14-5></a>
</span><span id=__span-14-6><a href=#__codelineno-14-6 id=__codelineno-14-6 name=__codelineno-14-6></a>---<span class=w> </span><span class=m>10</span>.30.0.11<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-14-7><a href=#__codelineno-14-7 id=__codelineno-14-7 name=__codelineno-14-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-14-8><a href=#__codelineno-14-8 id=__codelineno-14-8 name=__codelineno-14-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>0</span>.779/0.779/0.779/0.000<span class=w> </span>ms
</span></code></pre></div> <p>And with IPv6:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-15-1><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client3<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-15-2><a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span>fd00:fdfd:0:3000::11
</span><span id=__span-15-3><a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a>PING<span class=w> </span>fd00:fdfd:0:3000::11<span class=o>(</span>fd00:fdfd:0:3000::11<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=w> </span>data<span class=w> </span>bytes
</span><span id=__span-15-4><a href=#__codelineno-15-4 id=__codelineno-15-4 name=__codelineno-15-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span>fd00:fdfd:0:3000::11:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>0</span>.841<span class=w> </span>ms
</span><span id=__span-15-5><a href=#__codelineno-15-5 id=__codelineno-15-5 name=__codelineno-15-5></a>
</span><span id=__span-15-6><a href=#__codelineno-15-6 id=__codelineno-15-6 name=__codelineno-15-6></a>---<span class=w> </span>fd00:fdfd:0:3000::11<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-15-7><a href=#__codelineno-15-7 id=__codelineno-15-7 name=__codelineno-15-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-15-8><a href=#__codelineno-15-8 id=__codelineno-15-8 name=__codelineno-15-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>0</span>.841/0.841/0.841/0.000<span class=w> </span>ms
</span></code></pre></div> </div> </div> </div> <p>Beautiful, we have configured the network connectivity in the overlay between clients 11 and 13 using EDA's Bridge Domain and Bridge Interface Resources. By the way, you can the same queries using EQL as we did <a href=#list-bridge-domains>at the beginning of this exercise</a> to see the new bridge domain and interfaces present.</p> <h3 id=using-labels><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.6</span> Using labels<a class=headerlink href=#using-labels title="Permanent link">#</a></h3> <p>In the previous step, we have created a single bridge interface per (bridge-domain, interface, VLAN) combination. For dozens of services with hundreds of physical interfaces, this quickly becomes impractical. In this task, we'll take a look at <a href=../intro/label-based-selection.html>label-based</a> operations.</p> <p>Start off by deleting the bridge interfaces you have created so far (you can keep the bridge domain). You can remove the Bridge Interfaces one by one, or by selecting them in the grid view and bulk deleting via the <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 16a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2"></path></svg></span> menu icon. After deleting the Bridge Interface objects feel free to run the EQL queries to ensure that the nodes were stripped off of the relevant configurations.</p> <p>Next up, find the two Interfaces <code>leaf1-client1</code> and <code>leaf3-client3</code> in the <strong>Interfaces</strong> menu under the <strong>Topology</strong> group and have a look at the labels metadata field: <a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../images/check-interface-labels.png><img alt=labels src=../images/check-interface-labels.png></a></p> <p>Each resource in EDA can have a number of labels, which can be used to select the resources. Want to know more about the labels - we have a <a href=../intro/label-based-selection.html>dedicated exercise</a> for it.</p> <p>A label consists of a label key and a label value and is often written in the form of <code>key=value</code> string. For example, let's imagine that our two clients - client1 and client3 - are VMware hypervisors. Then we might want to tag them with the <code>tenant-type=vmware-hv</code> label to provide this metadata information that we can act on later.</p> <p>You can edit the Interface resources one by one, or select them both and make use of the Bulk Edit edit unt</p> <blockquote> <p>To avoid issues with other exercises, don't delete any existing label by overriding their label key!</p> </blockquote> <p>After assigning your new label to both interfaces, the list should look as follows (notice the filter in the Labels column at the top of the grid):</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../images/add-new-interface-labels.png><img alt="EDA interface labels" src=../images/add-new-interface-labels.png></a></p> <h3 id=vlan-resource><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.7</span> VLAN resource<a class=headerlink href=#vlan-resource title="Permanent link">#</a></h3> <p>Now that both interfaces have been assigned a common label, any EDA application can select them based on the tag. If before we had to create two instances of Bridge Interface for each interface/vlab/bridge-domain triplet, now we can optimize the workflow by using a different EDA resource - the VLAN resource.</p> <p>The VLAN resource, in contrast to the Bridge Interface, selects the interfaces based on the label selector, and does not allow you to individually pick an interface. It provides a way to connect the customer-facing interfaces to the bridge domain in a <strong>bulk mode</strong>. And this is exactly what you are tasked with, even though your fabric only has two clients, you can imagine running real fabric with hundreds or thousands VMs that ought to be interconnected via the overlay network service.</p> <p>Select the <strong>VLANs</strong> application under the <strong>Services</strong> category in the sidebar and open the creation window for your first VLAN resource. When filling the the resource form, focus on:</p> <ul> <li>A <strong>name</strong> for your VLAN so you can easily recognize it later</li> <li>An optional <strong>description</strong></li> <li>A <strong>reference to the bridge domain</strong> you created earlier</li> <li>A <strong>label</strong> in the <code>Interface Selector</code> section of the spec that you assigned to both client interfaces. This field does not auto-complete yet, so you need to manually enter the label. Follow the pattern <code>{key}={value}</code> and type in the label you assigned to the interfaces in the previous step.</li> <li>The <strong>VLAN ID</strong> you discovered at the start of this exercise. Note: replace the "pool" value from the field (which indicates that EDA should choose a VLAN from the allocation pool automatically) with the ID you discovered earlier.</li> </ul> <p>After filling out the required fields, feel free to run a Dry Run and ensure that you see configuration changes aimed at both leaf switches and matching the configuration you've seen when manually added the Bridge Interfaces.</p> <p>If everything was configured correctly and committed, you should now be able to see the status of both interfaces in your VLAN object.</p> <details class=success> <summary>Solution</summary> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-16-1><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">services.eda.nokia.com/v1</span>
</span><span id=__span-16-2><a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VLAN</span>
</span><span id=__span-16-3><a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-16-4><a href=#__codelineno-16-4 id=__codelineno-16-4 name=__codelineno-16-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bridge-domain-vlan300</span>
</span><span id=__span-16-5><a href=#__codelineno-16-5 id=__codelineno-16-5 name=__codelineno-16-5></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">eda</span>
</span><span id=__span-16-6><a href=#__codelineno-16-6 id=__codelineno-16-6 name=__codelineno-16-6></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-16-7><a href=#__codelineno-16-7 id=__codelineno-16-7 name=__codelineno-16-7></a><span class=w>  </span><span class=c1>###### WARNING ######</span>
</span><span id=__span-16-8><a href=#__codelineno-16-8 id=__codelineno-16-8 name=__codelineno-16-8></a><span class=w>  </span><span class=c1># this name should match the name of the bridge domain created earlier</span>
</span><span id=__span-16-9><a href=#__codelineno-16-9 id=__codelineno-16-9 name=__codelineno-16-9></a><span class=w>  </span><span class=c1>#####################</span>
</span><span id=__span-16-10><a href=#__codelineno-16-10 id=__codelineno-16-10 name=__codelineno-16-10></a><span class=w>  </span><span class=nt>bridgeDomain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bridge-domain-vlan300</span>
</span><span id=__span-16-11><a href=#__codelineno-16-11 id=__codelineno-16-11 name=__codelineno-16-11></a><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">&gt;-</span>
</span><span id=__span-16-12><a href=#__codelineno-16-12 id=__codelineno-16-12 name=__codelineno-16-12></a><span class=w>    </span><span class=no>This object creates a subinterface for each port assigned to label</span>
</span><span id=__span-16-13><a href=#__codelineno-16-13 id=__codelineno-16-13 name=__codelineno-16-13></a><span class=w>    </span><span class=no>"tenant-type=vmware-hv"</span>
</span><span id=__span-16-14><a href=#__codelineno-16-14 id=__codelineno-16-14 name=__codelineno-16-14></a><span class=w>  </span><span class=nt>interfaceSelector</span><span class=p>:</span>
</span><span id=__span-16-15><a href=#__codelineno-16-15 id=__codelineno-16-15 name=__codelineno-16-15></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tenant-type=vmware-hv</span>
</span><span id=__span-16-16><a href=#__codelineno-16-16 id=__codelineno-16-16 name=__codelineno-16-16></a><span class=w>  </span><span class=nt>vlanID</span><span class=p>:</span><span class=w> </span><span class=s>'300'</span>
</span></code></pre></div> </details> <h3 id=test-the-connectivity><span class="enumerate-headings-plugin enumerate-heading-plugin">1.3.8</span> Test the connectivity<a class=headerlink href=#test-the-connectivity title="Permanent link">#</a></h3> <p>To ensure that everything was configured correctly, re-check the connectivity between both clients</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>client-1</label><label for=__tabbed_3_2>client-3</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Connect to the server and then SSH into the client</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-17-1><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a>ssh<span class=w> </span>admin@clab-kpn-hackathon-client1
</span></code></pre></div> <p>Once in the shell, ping client3:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-18-1><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client1<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-18-2><a href=#__codelineno-18-2 id=__codelineno-18-2 name=__codelineno-18-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>10</span>.30.0.13
</span><span id=__span-18-3><a href=#__codelineno-18-3 id=__codelineno-18-3 name=__codelineno-18-3></a>PING<span class=w> </span><span class=m>10</span>.30.0.13<span class=w> </span><span class=o>(</span><span class=m>10</span>.30.0.13<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=o>(</span><span class=m>84</span><span class=o>)</span><span class=w> </span>bytes<span class=w> </span>of<span class=w> </span>data.
</span><span id=__span-18-4><a href=#__codelineno-18-4 id=__codelineno-18-4 name=__codelineno-18-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span><span class=m>10</span>.30.0.13:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>3</span>.13<span class=w> </span>ms
</span><span id=__span-18-5><a href=#__codelineno-18-5 id=__codelineno-18-5 name=__codelineno-18-5></a>
</span><span id=__span-18-6><a href=#__codelineno-18-6 id=__codelineno-18-6 name=__codelineno-18-6></a>---<span class=w> </span><span class=m>10</span>.30.0.13<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-18-7><a href=#__codelineno-18-7 id=__codelineno-18-7 name=__codelineno-18-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-18-8><a href=#__codelineno-18-8 id=__codelineno-18-8 name=__codelineno-18-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>3</span>.128/3.128/3.128/0.000<span class=w> </span>ms
</span></code></pre></div> <p>And with IPv6:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-19-1><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client1<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-19-2><a href=#__codelineno-19-2 id=__codelineno-19-2 name=__codelineno-19-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span>fd00:fdfd:0:3000::13
</span><span id=__span-19-3><a href=#__codelineno-19-3 id=__codelineno-19-3 name=__codelineno-19-3></a>PING<span class=w> </span>fd00:fdfd:0:3000::13<span class=o>(</span>fd00:fdfd:0:3000::13<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=w> </span>data<span class=w> </span>bytes
</span><span id=__span-19-4><a href=#__codelineno-19-4 id=__codelineno-19-4 name=__codelineno-19-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span>fd00:fdfd:0:3000::13:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>1</span>.92<span class=w> </span>ms
</span><span id=__span-19-5><a href=#__codelineno-19-5 id=__codelineno-19-5 name=__codelineno-19-5></a>
</span><span id=__span-19-6><a href=#__codelineno-19-6 id=__codelineno-19-6 name=__codelineno-19-6></a>---<span class=w> </span>fd00:fdfd:0:3000::13<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-19-7><a href=#__codelineno-19-7 id=__codelineno-19-7 name=__codelineno-19-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-19-8><a href=#__codelineno-19-8 id=__codelineno-19-8 name=__codelineno-19-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>1</span>.915/1.915/1.915/0.000<span class=w> </span>ms
</span></code></pre></div> </div> <div class=tabbed-block> <p>Connect to the server and then SSH into the client</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-20-1><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a>ssh<span class=w> </span>admin@clab-kpn-hackathon-client3
</span></code></pre></div> <p>Once in the shell, ping client1:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-21-1><a href=#__codelineno-21-1 id=__codelineno-21-1 name=__codelineno-21-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client3<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-21-2><a href=#__codelineno-21-2 id=__codelineno-21-2 name=__codelineno-21-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>10</span>.30.0.11
</span><span id=__span-21-3><a href=#__codelineno-21-3 id=__codelineno-21-3 name=__codelineno-21-3></a>PING<span class=w> </span><span class=m>10</span>.30.0.11<span class=w> </span><span class=o>(</span><span class=m>10</span>.30.0.11<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=o>(</span><span class=m>84</span><span class=o>)</span><span class=w> </span>bytes<span class=w> </span>of<span class=w> </span>data.
</span><span id=__span-21-4><a href=#__codelineno-21-4 id=__codelineno-21-4 name=__codelineno-21-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span><span class=m>10</span>.30.0.11:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>0</span>.779<span class=w> </span>ms
</span><span id=__span-21-5><a href=#__codelineno-21-5 id=__codelineno-21-5 name=__codelineno-21-5></a>
</span><span id=__span-21-6><a href=#__codelineno-21-6 id=__codelineno-21-6 name=__codelineno-21-6></a>---<span class=w> </span><span class=m>10</span>.30.0.11<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-21-7><a href=#__codelineno-21-7 id=__codelineno-21-7 name=__codelineno-21-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-21-8><a href=#__codelineno-21-8 id=__codelineno-21-8 name=__codelineno-21-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>0</span>.779/0.779/0.779/0.000<span class=w> </span>ms
</span></code></pre></div> <p>And with IPv6:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-22-1><a href=#__codelineno-22-1 id=__codelineno-22-1 name=__codelineno-22-1></a><span class=o>[</span>*<span class=o>]</span>─<span class=o>[</span>client3<span class=o>]</span>─<span class=o>[</span>/<span class=o>]</span>
</span><span id=__span-22-2><a href=#__codelineno-22-2 id=__codelineno-22-2 name=__codelineno-22-2></a>└──&gt;<span class=w> </span>ping<span class=w> </span>-c<span class=w> </span><span class=m>1</span><span class=w> </span>fd00:fdfd:0:3000::11
</span><span id=__span-22-3><a href=#__codelineno-22-3 id=__codelineno-22-3 name=__codelineno-22-3></a>PING<span class=w> </span>fd00:fdfd:0:3000::11<span class=o>(</span>fd00:fdfd:0:3000::11<span class=o>)</span><span class=w> </span><span class=m>56</span><span class=w> </span>data<span class=w> </span>bytes
</span><span id=__span-22-4><a href=#__codelineno-22-4 id=__codelineno-22-4 name=__codelineno-22-4></a><span class=m>64</span><span class=w> </span>bytes<span class=w> </span>from<span class=w> </span>fd00:fdfd:0:3000::11:<span class=w> </span><span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>ttl</span><span class=o>=</span><span class=m>64</span><span class=w> </span><span class=nv>time</span><span class=o>=</span><span class=m>0</span>.841<span class=w> </span>ms
</span><span id=__span-22-5><a href=#__codelineno-22-5 id=__codelineno-22-5 name=__codelineno-22-5></a>
</span><span id=__span-22-6><a href=#__codelineno-22-6 id=__codelineno-22-6 name=__codelineno-22-6></a>---<span class=w> </span>fd00:fdfd:0:3000::11<span class=w> </span>ping<span class=w> </span>statistics<span class=w> </span>---
</span><span id=__span-22-7><a href=#__codelineno-22-7 id=__codelineno-22-7 name=__codelineno-22-7></a><span class=m>1</span><span class=w> </span>packets<span class=w> </span>transmitted,<span class=w> </span><span class=m>1</span><span class=w> </span>received,<span class=w> </span><span class=m>0</span>%<span class=w> </span>packet<span class=w> </span>loss,<span class=w> </span><span class=nb>time</span><span class=w> </span>0ms
</span><span id=__span-22-8><a href=#__codelineno-22-8 id=__codelineno-22-8 name=__codelineno-22-8></a>rtt<span class=w> </span>min/avg/max/mdev<span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>0</span>.841/0.841/0.841/0.000<span class=w> </span>ms
</span></code></pre></div> </div> </div> </div> <p>Great job completing the Bridge Domains exercise! You've successfully:</p> <ul> <li>Created layer-2 connectivity between client1 and client3 using EDA's Bridge Domain resources</li> <li>Learned how to configure Bridge Interfaces to connect physical interfaces to virtual networks</li> <li>Mastered the use of EDA's transaction and dry run capabilities to preview configuration changes</li> <li>Discovered the power of label-based operations to efficiently manage multiple interfaces</li> <li>Implemented VLAN resources to streamline the configuration process using interface selectors</li> </ul> <p>Your work has established a functional layer-2 network service that allows both IPv4 and IPv6 communication between the clients. This foundation in EDA's declarative approach to network configuration will serve you well as you progress to more advanced topics like layer-3 connectivity with routers and virtual networks.</p> <p>Ready for the next challenge? Continue to <a href=routers.html>Part 2: Routers</a> to build on what you've learned!</p> <div class=footnote> <hr> <ol> <li id=fn:1> <p>If you want to learn more about transactions, checkout <a href=../intro/declarative-intents.html#transactions>transactions</a> section of the Declarative Intents exercise. <a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">↩</a></p> </li> </ol> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2021-2026 Nokia </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> <div class=md-social> <a class=md-social__link href=https://github.com/nokia/SReXperts rel=noopener target=_blank title=github.com> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../javascripts/sh-annotation.js></script> <script src=../javascripts/drawio-reinit.js></script> <script src=../javascripts/drawio-viewer.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>